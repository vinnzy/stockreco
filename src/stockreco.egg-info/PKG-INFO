Metadata-Version: 2.4
Name: stockreco
Version: 0.1.0
Summary: EOD Nifty-50 momentum recommender with proposer/reviewer/analyst pipeline.
Requires-Python: >=3.10
Description-Content-Type: text/markdown
Requires-Dist: pandas>=2.1
Requires-Dist: numpy>=1.26
Requires-Dist: yfinance>=0.2.54
Requires-Dist: requests>=2.31
Requires-Dist: pydantic>=2.7
Requires-Dist: scikit-learn>=1.4
Requires-Dist: lightgbm>=4.3
Requires-Dist: ta>=0.11.0
Requires-Dist: typer>=0.12.5
Requires-Dist: rich>=13.7
Requires-Dist: python-dotenv>=1.0

# stockreco (Nifty-50 EOD next-day momentum recommender)

This project generates **next-trading-day** bullish momentum recommendations for **Nifty 50** using:

1) **Quant ranker** (LightGBM) using EOD price/volume/relative-strength features  
2) **Reviewer** (LLM optional; otherwise rule-based critic)  
3) **Analyst** (LLM optional; otherwise calibrated-probability report)

It outputs:
- `reports/<date>.json` (machine-readable)
- `reports/<date>.md` (human-friendly)

> ⚠️ Disclaimer: This is an educational/research tool. Markets are risky. The “confidence” is a calibrated model probability, not certainty.

---

## Quick start (Mac)

### 1) Clone your repo and drop this code
Your GitHub repo is empty. Create a folder locally, then copy this project into it (or unzip the release you got from ChatGPT).

### 2) Create a virtualenv
```bash
python3 -m venv .venv
source .venv/bin/activate
python -m pip install -U pip
pip install -e .
```

### 3) (Optional) Enable LLM proposer/reviewer/analyst
Create `.env` in the repo root:
```bash
OPENAI_API_KEY="your_key_here"
OPENAI_MODEL="gpt-4.1-mini"   # change if you want
```
If you do **not** set an API key, the pipeline still runs with a **rule-based reviewer** and **non-LLM analyst** output.

### 4) Generate the first recommendation for Monday, **15 Dec 2025**
Run after market close on Friday (or anytime after Friday's EOD is available):
```bash
stockreco recommend --target-date 2025-12-15
```

This will:
- Fetch EOD history for all Nifty 50 stocks (via `yfinance`)
- Build features
- Train a model (if one doesn't exist for that as-of date)
- Score stocks for the next session
- Run proposer/reviewer/analyst
- Write `reports/2025-12-15.json` and `reports/2025-12-15.md`

---

## Commands

### Fetch data
```bash
stockreco fetch --start 2020-01-01
```

### Train model (walk-forward style)
```bash
stockreco train --asof 2025-12-12
```

### Produce recommendations
```bash
stockreco recommend --target-date 2025-12-15
```

### Backtest (basic)
```bash
stockreco backtest --start 2023-01-01 --end 2025-12-12
```

---

## How recommendations map to options (intraday-friendly)

The report includes an **options playbook template** per stock, for example:
- prefer weekly expiry with liquidity
- delta band (approx): 0.35–0.55
- entry only on confirmation (gap-hold or breakout)
- premium-based stop + time-stop + partial profit-taking

You should still check liquidity/IV/spreads in your broker before trading.

---

## Notes on data
- Uses `yfinance` for EOD. It is convenient and usually reliable for modeling, but not an official exchange feed.
- Nifty 50 symbols are stored in `src/stockreco/universe/nifty50_static.py`. You can update them anytime.

---

## Project layout
```
src/stockreco/
  ingest/        # data fetching
  universe/      # Nifty 50 list
  features/      # technical/relative strength features
  models/        # train, calibrate, predict
  agents/        # proposer/reviewer/analyst (LLM optional)
  report/        # markdown + json outputs
  backtest/      # simple walk-forward evaluation
```
